---
import GamerCard from "../components/GamerCard.astro";
import LightningIcon from "../components/LightningIcon.astro";
import Layout from "../layouts/Layout.astro";
import { gamers } from "../gamers";

const renderTime = Date.now();
const revealTimestamp = 1695412800; // 2023-09-22T20:00:00.000Z

/**
 * @param revealTimestamp Unix timestamp in seconds for reveal time
 */
function isRevealed(revealTimestamp: number) {
  return revealTimestamp * 1000 < renderTime;
}
---

<Layout title='Gamernes Gamer'>
  <main class='flex flex-col p-4 items-center mx-auto gap-4'>
    <h1 class='text-4xl sm:text-6xl mt-4 sm:mt-16 font-quantico'>
      Gamernes Gamer
    </h1>
    <div class='flex gap-4'>
      <LightningIcon color='reddish' />
      <LightningIcon color='blueish' />
      <LightningIcon color='reddish' />
    </div>
    <p class='font-quantico'>07/10/2023</p>
    <div class='border-t-blueish border-t-2 w-1/6'></div>

    <section class='flex flex-col items-center gap-8 mt-8 sm:mt-16'>
      <h2 class='text-3xl sm:text-4xl font-quantico'>Ut√∏vere</h2>
      <ul class='flex flex-wrap gap-16 justify-center'>
        {
          gamers.map((gamer) => (
            <li>
              <GamerCard
                name={gamer.name}
                nickname={gamer.nickname}
                imagePath={gamer.imagePath}
                overallRating={gamer.overallRating}
                stats={gamer.stats}
                revealed={isRevealed(revealTimestamp)}
              />
            </li>
          ))
        }
      </ul>
    </section>
  </main>
</Layout>
